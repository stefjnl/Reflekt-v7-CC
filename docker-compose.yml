version: '3.8'

services:
  reflekt:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3005:3005"
    environment:
      - NODE_ENV=production
      - DATABASE_URL=postgresql://stefan:stefan_secure_password_2025@192.168.68.112:5432/reflekt-db?sslmode=prefer
      - AUTH_SECRET=${AUTH_SECRET:-reflekt_super_secret_key_2025_change_in_production}
      - AUTH_URL=http://192.168.68.112:3005
      - PORT=3005
    restart: unless-stopped
    networks:
      - reflekt-network

networks:
  reflekt-network:
    driver: bridge
